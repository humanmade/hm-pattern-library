@function iconSrc( $name, $color: "black" ) {
	@return "#{ $images-path }/icons/icon-#{ $name }-#{ $color }.svg";
}

@mixin icon( $name, $color: "black" ) {
	$iconSrc: iconSrc( $name, $color );
	background: url( $iconSrc ) no-repeat center center;
	background-size: 75%;
	width: $base-line-height;
	height: $base-line-height;
}

$icons: "wordpress", "server", "facebook", "twitter", "youtube", "strategy", "bubble", "link", "lock", "minus", "minus-alt", "plus", "plus-alt", "search", "spinner", "arrow-right", "github", "linkedin", "pin", "close";
$colors: "white", "red"; // Note black is the default.

.icon {
	display: inline-block;
	width: $base-line-height;
	height: $base-line-height;
	vertical-align: middle;
	background: no-repeat center center;
	background-size: 80%;
	width: $base-line-height;
	height: $base-line-height;
	text-indent: 100%;
	white-space: nowrap;
	overflow: hidden;
}

@each $icon in $icons {

	.icon--#{$icon} {
		$iconSrc: iconSrc( $icon, "black" );
		background-image: url( $iconSrc );
	}

	@each $color in $colors {
		.icon--#{$icon}.icon--#{$color} {
			$iconSrc: iconSrc( $icon, $color );
			background-image: url( $iconSrc );
		}
	}
}
